require=function o(s,a,l){function c(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[t]={exports:{}};s[t][0].call(i.exports,function(e){return c(s[t][1][e]||e)},i,i.exports,o,s,a,l)}return a[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({AnimationControl:[function(e,t,n){"use strict";cc._RF.push(t,"e6c67rx4d5OUbyn/nnKNzkJ","AnimationControl");var r=e("../Script/global"),a=["straight","spring","Rspring","airplane","bomb","rocket","showstatus"],l=["farmerDouble","dizhuDouble","autoPlaying","choseCards","nolegalCard","illegal"];cc.Class({extends:cc.Component,ctor:function(){this.position={Me:null,Pre:null,Next:null}},init:function(){this.position={Me:cc.find("position/Me",this.node),Pre:cc.find("position/Pre",this.node),Next:cc.find("position/Next",this.node)}},onLoad:function(){this.init();var s=this;r.socket.on("Animation",function(e,t){r.EventListener.fire("Animation",e,t)}),r.EventListener.on("Animation",function(e,t){var n=a.indexOf(e),r=l.indexOf(e);if(-1!=r){n=a.indexOf("showstatus");for(var i=cc.find("showstatus",s.node).getChildren(),o=0;o<i.length;o++)i[o].active=o==r}s.play(n,t)})},play:function(e,t){e<0||(this.node.getChildren()[e].getComponent(cc.Animation).play(),this.node.getChildren()[e].position=this.position[t].position)}}),cc._RF.pop()},{"../Script/global":"global"}],1:[function(e,t,n){var r,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}(function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}})();var c,d=[],u=!1,h=-1;function p(){u&&c&&(u=!1,c.length?d=c.concat(d):h=-1,d.length&&f())}function f(){if(!u){var e=l(p);u=!0;for(var t=d.length;t;){for(c=d,d=[];++h<t;)c&&c[h].run();h=-1,t=d.length}c=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function C(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||u||l(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=C,o.addListener=C,o.once=C,o.off=C,o.removeListener=C,o.removeAllListeners=C,o.emit=C,o.prependListener=C,o.prependOnceListener=C,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,t,r){var i=e("process/browser.js").nextTick,n=Function.prototype.apply,o=Array.prototype.slice,s={},a=0;function l(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new l(n.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new l(n.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=a++,n=!(arguments.length<2)&&o.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(n?e.apply(null,n):e.call(null),r.clearImmediate(t))}),t},r.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete s[e]}},{"process/browser.js":1}],CardManager:[function(e,t,n){"use strict";cc._RF.push(t,"4e1718ND2hOhLTTkiYUY/Xa","CardManager");var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e("./global"),s=e("./findtype");cc.Class({extends:cc.Component,ctor:function(){this.CardObj={DizhuCards:null,MyCards:null,currentStatus:{Me:null,Pre:null,Next:null},PreRivalCards:null,NextRivalCards:null,PreRivalCardsNum:null,NextRivalCardsNum:null},this.cardsPool=null,this.cardInfo=null},properties:{playerInfo:{default:null,type:cc.Node}},init:function(){this.CardObj={DizhuCards:cc.find("DizhuCards",this.node),MyCards:cc.find("MyCards",this.node),currentStatus:{Me:cc.find("currentStatus/Me",this.node),Pre:cc.find("currentStatus/Pre",this.node),Next:cc.find("currentStatus/Next",this.node)},PreRivalCards:cc.find("PreRival/cards",this.node),NextRivalCards:cc.find("NextRival/cards",this.node),PreRivalCardsNum:cc.find("PreRival/length",this.node),NextRivalCardsNum:cc.find("NextRival/length",this.node),IsDizhu:{Me:cc.find("Me/dizhuIcon",this.playerInfo),Pre:cc.find("Pre/dizhuIcon",this.playerInfo),Next:cc.find("Next/dizhuIcon",this.playerInfo)}},this.cardsPool=cc.find("CardsPool",this.node).getComponent("CardsPool")},onEnable:function(){this.UpdateCards({DizhuCards:[],IsDizhu:{Me:null,Pre:null,Next:null},MyCards:[],NextRivalCards:0,PreRivalCards:0,currentStatus:{Me:[],Next:[],Pre:[]}})},onLoad:function(){var t=this;this.init(),o.socket.on("GetCards",function(e){t.UpdateCards(e)}),o.EventListener.on("SubmitCards",function(e){o.socket.emit("SubmitCards",o.uid,e)}),o.EventListener.on("ChoseDizhu",function(e){o.socket.emit("ChoseDizhu",o.uid,e)}),o.EventListener.on("GetCardsInfo",function(e){return t.GetCardInfo(e)}),o.EventListener.on("CallDouble",function(e){o.socket.emit("CallDouble",o.uid,e)})},GetCardInfo:function(e){var t=this;if(null==t.cardInfo)return"No Data";switch(e){case"Me":return t.cardInfo.MyCards.length;case"Pre":return"number"==typeof t.cardInfo.PreRivalCards?t.cardInfo.PreRivalCards:t.cardInfo.PreRivalCards.length;case"Next":return"number"==typeof t.cardInfo.NextRivalCards?t.cardInfo.NextRivalCards:t.cardInfo.NextRivalCards.length;case"MyCard":return t.cardInfo.MyCards;case"current":return null!=t.cardInfo.currentStatus.Pre[0]?t.cardInfo.currentStatus.Pre:null==t.cardInfo.currentStatus.Pre[0]&&null!=t.cardInfo.currentStatus.Next[0]?t.cardInfo.currentStatus.Next:0;default:return"ERROR"}},HintClicked:function(e,t){o.ButtonCounting+=1,this.Reselect(),this.showHint(o.ButtonCounting)},showHint:function(e){var t=s.GetAllType(this.GetCardInfo("MyCard"),this.GetCardInfo("current"));if(0==t.length)return o.EventListener.fire("Animation","nolegalCard","Me"),void(o.ButtonCounting=-1);e>t.length-1&&(e=o.ButtonCounting=0);for(var n=0;n<t[e].length;n++)for(var r=t[e][n].NO,i=0;i<this.CardObj.MyCards.getChildren().length;i++){r==this.CardObj.MyCards.getChildren()[i].getComponent("PokerControl").CardInfo.data.NO&&this.CardObj.MyCards.getChildren()[i].getComponent("PokerControl").select()}},callDouble:function(e,t){o.EventListener.fire("CallDouble",parseInt(t))},UpdateCards:function(e){0!=(this.cardInfo=e).DizhuCards.length?this.CardObj.DizhuCards.active=!0:this.CardObj.DizhuCards.active=!1,this.cardsPool.ArrangeCards(e.DizhuCards,this.CardObj.DizhuCards,!1),this.cardsPool.ArrangeCards(e.MyCards,this.CardObj.MyCards,!0),"number"==typeof e.PreRivalCards?(this.cardsPool.ArrangeCards(0!=e.PreRivalCards?[null]:[],this.CardObj.PreRivalCards.getChildren()[0],!1),this.cardsPool.ArrangeCards([],this.CardObj.PreRivalCards.getChildren()[1],!1),this.CardObj.PreRivalCardsNum.getComponent("Num2Sprite").setNum(0!=e.PreRivalCards?e.PreRivalCards:"")):"object"==r(e.PreRivalCards)&&(this.CardObj.PreRivalCardsNum.getComponent("Num2Sprite").setNum(""),this.cardsPool.ArrangeCards(e.PreRivalCards.slice(0,10),this.CardObj.PreRivalCards.getChildren()[0],!1),this.cardsPool.ArrangeCards(e.PreRivalCards.slice(10,20),this.CardObj.PreRivalCards.getChildren()[1],!1)),"number"==typeof e.NextRivalCards?(this.cardsPool.ArrangeCards(0!=e.NextRivalCards?[null]:[],this.CardObj.NextRivalCards.getChildren()[0],!1),this.cardsPool.ArrangeCards([],this.CardObj.NextRivalCards.getChildren()[1],!1),this.CardObj.NextRivalCardsNum.getComponent("Num2Sprite").setNum(0!=e.NextRivalCards?e.NextRivalCards:"")):"object"==r(e.NextRivalCards)&&(this.CardObj.NextRivalCardsNum.getComponent("Num2Sprite").setNum(""),this.cardsPool.ArrangeCards(e.NextRivalCards.slice(0,10),this.CardObj.NextRivalCards.getChildren()[0],!1),this.cardsPool.ArrangeCards(e.NextRivalCards.slice(10,20),this.CardObj.NextRivalCards.getChildren()[1],!1)),this.cardsPool.ArrangeCards(e.currentStatus.Me,this.CardObj.currentStatus.Me,!1),this.cardsPool.ArrangeCards(e.currentStatus.Pre,this.CardObj.currentStatus.Pre,!1),this.cardsPool.ArrangeCards(e.currentStatus.Next,this.CardObj.currentStatus.Next,!1),null==e.IsDizhu.Me?this.CardObj.IsDizhu.Me.active=!1:this.CardObj.IsDizhu.Me.active=!0,null==e.IsDizhu.Pre?this.CardObj.IsDizhu.Pre.active=!1:this.CardObj.IsDizhu.Pre.active=!0,null==e.IsDizhu.Next?this.CardObj.IsDizhu.Next.active=!1:this.CardObj.IsDizhu.Next.active=!0},SubmitCard:function(){var t=[];this.CardObj.MyCards.children.forEach(function(e){1==e.getComponent("PokerControl").CardInfo.selected&&t.push(e.getComponent("PokerControl").getValue())}),o.EventListener.fire("SubmitCards",t)},ChoseDizhu:function(e,t){o.EventListener.fire("ChoseDizhu",t)},Reselect:function(){this.CardObj.MyCards.children.forEach(function(e){e.getComponent("PokerControl").unselect()})}}),cc._RF.pop()},{"./findtype":"findtype","./global":"global"}],CardType:[function(e,t,n){"use strict";cc._RF.push(t,"5361bEgi9BMB42WBidaOX2U","CardType");var i=e("./CardUtil"),r={Types:["錯誤牌型","單張","對子","三張牌","三帶一","三帶二","單順子","雙順子","三順子","四帶二單","四帶一對","炸彈","火箭","飛機"],judgeType:function(e){if("PASS"==e)return 0;if(null==e||0==e.length)return 0;var t=JSON.parse(JSON.stringify(e));return t.sort(i.gradeUp),this.isSingle(t)?1:this.isDouble(t)?2:this.isTriple(t)?3:this.isThreeOne(t)?4:this.isThreeTwo(t)?5:this.isStraight(t)?6:this.isDStraight(t)?7:this.isTStraight(t)?8:this.isFourTwoDiff(t)?9:this.isFourTwoSame(t)?10:this.isBomb(t)?11:this.isRocket(t)?12:this.isAirplane(t)?13:0},classifyTypes:function(e){if(e.length){if(1==e.length)return e[0].showTxt;for(var t={},n=0;n<e.length;n++)t[e[n].showTxt]?t[e[n].showTxt]++:t[e[n].showTxt]=1;return t}},isSingle:function(e){return 1==e.length},isDouble:function(e){return 2==e.length&&e[0].showTxt==e[1].showTxt},isTriple:function(e){return 3==e.length&&(e[0].showTxt==e[1].showTxt&&e[0].showTxt==e[1].showTxt)},isThreeOne:function(e){if(4!=e.length)return!1;var t=this.classifyTypes(e),n=Object.keys(t);return 2==n.length&&(3==t[n[0]]&&1==t[n[1]]||1==t[n[0]]&&3==t[n[1]])},isThreeTwo:function(e){if(5!=e.length)return!1;var t=this.classifyTypes(e),n=Object.keys(t);return 2==n.length&&(3==t[n[0]]&&2==t[n[1]]||2==t[n[0]]&&3==t[n[1]])},isTStraight:function(e){if(e.length%3!=0||e.length<9||this.findCard(e,2))return!1;if(9<=e.length&&e.length%3==0){var t=this.classifyTypes(e),n=Object.keys(t);if(n.length<3)return!1;for(var r=1;r<n.length;r++){if(3!=t[n[r]]||3!=t[n[r-1]])return!1;if(1!=Math.abs(i.cardGrade[n[r]]-i.cardGrade[n[r-1]]))return!1}return!0}},isDStraight:function(e){if(e.length%2!=0)return!1;if(e.length<6||this.findCard(e,2))return!1;if(this.findCard(e,2))return!1;if(6<=e.length&&e.length%2==0){var t=this.classifyTypes(e),n=Object.keys(t);if(n.length<3)return!1;for(var r=1;r<n.length;r++){if(2!=t[n[r]]||2!=t[n[r-1]])return!1;if(1!=Math.abs(i.cardGrade[n[r]]-i.cardGrade[n[r-1]]))return!1}return!0}},isStraight:function(e){if(e.length<5)return!1;if(this.findCard(e,2))return!1;for(var t=1;t<e.length;t++)if(1!=Math.abs(i.cardGrade[e[t].showTxt]-i.cardGrade[e[t-1].showTxt]))return!1;return!0},isRocket:function(e){return 2==e.length&&("G"==e[0].showTxt&&"g"==e[1].showTxt||"G"==e[1].showTxt&&"g"==e[0].showTxt)},isBomb:function(e){if(4!=e.length)return!1;for(var t=1;t<e.length;t++)if(e[t].showTxt!=e[t-1].showTxt)return!1;return!0},isFourTwoSame:function(e){if(6!=e.length)return!1;var t=this.classifyTypes(e),n=Object.keys(t);return 2==n.length&&(4==t[n[0]]&&2==t[n[1]]||2==t[n[0]]&&4==t[n[1]])},isFourTwoDiff:function(e){if(6!=e.length)return!1;var t=this.classifyTypes(e),n=Object.keys(t);return 3==n.length&&(4==t[n[0]]&&1==t[n[1]]&&1==t[n[2]]||1==t[n[0]]&&4==t[n[1]]&&1==t[n[2]]||1==t[n[0]]&&1==t[n[1]]&&4==t[n[2]])},isAirplane:function(e){if(e.length<6||!0&e.length)return!1;var t=this.classifyTypes(e),n=Object.keys(t);if(n.length<2)return!1;for(var r=1;r<n.length;r++)if(3!=t[n[r]]&&Math.abs(i.cardGrade[n[r]]-i.cardGrade[n[r-1]]!=1))return!1;return!0},findMost:function(e){if(e.length){if(1==e.length)return e[0].showTxt;for(var t={},n=0,r=e.length;n<r;n++)t[e[n].showTxt]?t[e[n].showTxt]++:t[e[n].showTxt]=1;var i,o=Object.keys(t),s=0;for(n=0,r=o.length;n<r;n++)t[o[n]]>s&&(s=t[o[n]],o[i=n]);return o[i]}},findCard:function(e,t){for(var n=0;n<e.length;n++)if(e[n].showTxt==t)return 1;return 0}};t.exports=r,cc._RF.pop()},{"./CardUtil":"CardUtil"}],CardUtil:[function(e,t,n){"use strict";cc._RF.push(t,"9e6810BlXpDHrPOU7qWc5f0","CardUtil");var i={cardGrade:{3:1,4:2,5:3,6:4,7:5,8:6,9:7,10:8,J:9,Q:10,K:11,A:12,2:13,g:14,G:15},typeGrade:{spade:4,hearts:3,redslice:2,blackberry:1},typeDown:function(e,t){return i.typeGrade[t.showType]-i.typeGrade[e.showType]},gradeDown:function(e,t){var n=i.cardGrade[t.showTxt]-i.cardGrade[e.showTxt],r=i.typeGrade[t.showType]-i.typeGrade[e.showType];return 0<n?1:0==n&&0<r?1:0==n&&r<0?-1:i.cardGrade[t.showTxt]-i.cardGrade[e.showTxt]},gradeUp:function(e,t){var n=i.cardGrade[e.showTxt]-i.cardGrade[t.showTxt],r=i.typeGrade[e.showType]-i.typeGrade[t.showType];return 0<n?1:0==n&&0<r?1:0==n&&r<0?-1:i.cardGrade[e.showTxt]-i.cardGrade[t.showTxt]}};t.exports=i,cc._RF.pop()},{}],CardsPool:[function(e,t,n){"use strict";cc._RF.push(t,"e6c9a9JsS1Oh7pz4TSQC9GB","CardsPool"),cc.Class({extends:cc.Component,ctor:function(){this.deck=[]},properties:{card:{default:null,type:cc.Prefab}},onLoad:function(){for(var e={spade:"spade",hearts:"hearts",redslice:"redslice",blackberry:"blackberry"},t="bigG",n="smallG",r=[3,4,5,6,7,8,9,10,"J","Q","K","A",2,"g","G"],i=0;i<1;i++)for(var o=0,s=0;s<r.length;s++)if(s<r.length-2)for(var a in e){var l={showTxt:r[s],showType:e[a],NO:o++};(c=cc.instantiate(this.card)).getComponent("PokerControl").showPoker(l,!1),this.deck.push(c)}else if(13==s){l={showTxt:r[s],showType:n,NO:o++};(c=cc.instantiate(this.card)).getComponent("PokerControl").showPoker(l,!1),this.deck.push(c)}else if(14==s){var c;l={showTxt:r[s],showType:t,NO:o++};(c=cc.instantiate(this.card)).getComponent("PokerControl").showPoker(l,!1),this.deck.push(c)}for(s=0;s<5;s++)(c=cc.instantiate(this.card)).getComponent("PokerControl").showPoker(null,!1),this.deck.push(c);var d=["Double","PASS","notCall","notDouble","onePoint","threePoints","twoPoints"];for(s=0;s<3;s++)for(var u=0;u<d.length;u++)(c=cc.instantiate(this.card)).getComponent("PokerControl").showstatus(d[u]),this.deck.push(c);for(s=this.node.opacity=0;s<this.deck.length;s++)this.node.addChild(this.deck[s],s),this.node.children[s].x=s%13*90,this.node.children[s].y=s/13*-90},getCardFormPool:function(e){for(var t=0;t<this.node.children.length;t++)if(JSON.stringify(e)==JSON.stringify(this.node.children[t].getComponent("PokerControl").getValue()))return this.node.children[t];var n=cc.instantiate(this.card);return n.getComponent("PokerControl").setCard(e,!1),n},throwCardToPool:function(e){e.parent=this.node},ArrangeCards:function(e,t,n){var r="DizhuCards"==t.name?200:70,i=0;"string"==typeof e&&(e=[e]),i=.51<t.anchorX?-e.length*r-25:t.anchorX<.49?100:-parseInt(e.length/2)*r,t.getComponent(cc.Layout).enabled=!1;for(var o=[],s=0;s<t.children.length;){for(var a=!1,l=0;l<e.length;l++)if(JSON.stringify(t.children[s].getComponent("PokerControl").getValue())==JSON.stringify(e[l])&&-1==o.indexOf(l)){a=!0,o.push(l);break}a?s++:this.throwCardToPool(t.children[s])}var c=[];for(s=0;s<e.length;s++){var d=-1;for(d=0;d<t.children.length&&(JSON.stringify(e[s])!=JSON.stringify(t.children[d].getComponent("PokerControl").getValue())||-1!=c.indexOf(d));d++);if(d>=t.children.length){var u=this.getCardFormPool(e[s]);u.getComponent("PokerControl").CardInfo.canselect=n,u.x=i+r*s,u.y=0,u.parent=t,u.zIndex=s,c.push(d)}else t.children[d].x=i+r*s,t.children[d].y=0,t.children[d].zIndex=s,c.push(d)}}}),cc._RF.pop()},{}],EventListener:[function(e,t,n){"use strict";cc._RF.push(t,"0b707lcKytD9K4ZY7fQy6bc","EventListener");t.exports=function(e){var s={};return e.on=function(e,t){s.hasOwnProperty(e)||(s[e]=[]),s[e].push(t)},e.fire=function(e){if(s.hasOwnProperty(e))for(var t=s[e],n=0;n<t.length;n++){for(var r=t[n],i=[],o=1;o<arguments.length;o++)i.push(arguments[o]);return r.apply(r,i)}},e.off=function(){},e.destory=function(){},e},cc._RF.pop()},{}],Num2Sprite:[function(e,t,n){"use strict";cc._RF.push(t,"51b28uq0GtBKrHfHEHc95EI","Num2Sprite");e("timers");cc.Class({extends:cc.Component,ctor:function(){},properties:{resourcedirectory:""},UrlTable:function(e){switch(e){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":return e;case":":return"colon";case",":return"comma";case".":return"dot";case"-":return"hyphen"}},onLoad:function(){cc.loader.loadResDir(this.resourcedirectory,function(e,t){})},setNum:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.resourcedirectory,i=this;if(null!=e){var o=e;"string"!=typeof o&&(o=e.toString()),cc.loader.loadRes(t,cc.SpriteAtlas,function(e,t){i.node.removeAllChildren();for(var n=0;n<o.length;n++){var r=new cc.Node;r.addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(i.UrlTable(o[n])),i.node.addChild(r)}})}else i.node.removeAllChildren()}}),cc._RF.pop()},{timers:2}],PokerControl:[function(e,t,n){"use strict";cc._RF.push(t,"df004UTT31Bqque3mQqf84W","PokerControl");var a=e("config");cc.Class({extends:cc.Component,ctor:function(){this.CardInfo={canselect:!0,selected:!1,data:null}},properties:{pokerTxt:{default:null,type:cc.Sprite},pokerTxt1:{default:null,type:cc.Sprite},pokerType:{default:null,type:cc.Sprite},pokerType_1:{default:null,type:cc.Sprite},pokerType2:{default:null,type:cc.Sprite},pokerBackGround:{default:null,type:cc.Sprite},status:{default:null,type:cc.Sprite}},setCard:function(e,t){"string"==typeof e?this.showstatus(e):this.showPoker(e,t)},showPoker:function(e,t){if(null!=e){var n=this;n.node.opacity=0,n.CardInfo.data=e,n.CardInfo.canselect=t;var r=e.showType;n.pokerType.enabled=!0,n.pokerType2.enabled=!0,n.pokerTxt.enabled=!0,n.pokerTxt1.enabled=!0,n.pokerType_1.enabled=!0,n.pokerBackGround.enabled=!0,n.status.enabled=!1;var i="S-S",o="S",s="KD-"+e.showTxt;if(r==a.pokerCardType.spade){switch(i="S-S",e.showTxt){case"J":o="KJ";break;case"Q":o="KQ";break;case"K":o="KK";break;default:o="S"}s="KD-"+e.showTxt}else if(r==a.pokerCardType.hearts){switch(e.showTxt){case"J":o="RJ";break;case"Q":o="RQ";break;case"K":o="RK";break;default:o="H"}i="H-S",s="RD-"+e.showTxt}else if(r==a.pokerCardType.redslice){switch(e.showTxt){case"J":o="RJ";break;case"Q":o="RQ";break;case"K":o="RK";break;default:o="B"}i="B-S",s="RD-"+e.showTxt}else if(r==a.pokerCardType.blackberry){switch(e.showTxt){case"J":o="KJ";break;case"Q":o="KQ";break;case"K":o="KK";break;default:o="P"}i="P-S",s="KD-"+e.showTxt}else r==a.ghostCardType.bigG?(n.pokerType.enabled=!1,n.pokerType_1.enabled=!1,s="RD-JOCKER",o="RJO"):r==a.ghostCardType.smallG&&(n.pokerType.enabled=!1,n.pokerType_1.enabled=!1,s="KD-JOCKER",o="KJO");cc.loader.loadRes("card/Cards",cc.SpriteAtlas,function(e,t){n.pokerBackGround.getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame("PC"),cc.loader.loadRes("card/Cards",cc.SpriteAtlas,function(e,t){n.pokerType.getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(i),n.pokerType_1.getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(i),cc.loader.loadRes("card/Cards",cc.SpriteAtlas,function(e,t){n.pokerTxt.getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(s),n.pokerTxt1.getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(s),cc.loader.loadRes("card/Cards",cc.SpriteAtlas,function(e,t){n.pokerType2.getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(o),n.node.opacity=255})})})})}else this.showPokerBack()},showPokerBack:function(){var n=this;n.CardInfo.data=null,n.CardInfo.canselect=!1,n.pokerType.enabled=!1,n.pokerType_1.enabled=!1,n.pokerType2.enabled=!1,n.pokerTxt.enabled=!1,n.pokerTxt1.enabled=!1,n.status.enabled=!1;cc.loader.loadRes("card/Cards",cc.SpriteAtlas,function(e,t){n.pokerBackGround.getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame("BK")})},showstatus:function(e){var n=this;n.CardInfo.data=e,n.CardInfo.canselect=!1,n.pokerType.enabled=!1,n.pokerType_1.enabled=!1,n.pokerType2.enabled=!1,n.pokerBackGround.enabled=!1,n.pokerTxt.enabled=!1,n.pokerTxt1.enabled=!1,cc.loader.loadRes("status/"+e,cc.SpriteFrame,function(e,t){n.status.getComponent(cc.Sprite).spriteFrame=t})},onLoad:function(){var t=this;this.pokerBackGround.node.on("mouseenter",function(e){null!=e.getButton()&&(0==t.CardInfo.selected?t.select():t.unselect())}),this.pokerBackGround.node.on("touchstart",function(e){0==t.CardInfo.selected?t.select():t.unselect()})},unselect:function(){0!=this.CardInfo.canselect&&(this.CardInfo.selected=!1,this.node.setPositionY(0))},select:function(){0!=this.CardInfo.canselect&&(this.CardInfo.selected=!0,this.node.setPositionY(20))},getValue:function(){return this.CardInfo.data}}),cc._RF.pop()},{config:"config"}],ResultScene:[function(e,t,n){"use strict";cc._RF.push(t,"bcc45yFhxZCA4kgGjncPN7q","ResultScene");var r=e("global");cc.Class({extends:cc.Component,ctor:function(){this.Obj={dizhuWin:null,farmerWin:null,odds:{dizhu:null,bomb:null,rocket:null,RSpring:null},remainCards:{player1:{name:null,card1stRow:null,card2ndRow:null},player2:{name:null,card1stRow:null,card2ndRow:null}},Personalodds:{player1:{personalDouble:null,name:null,points:null,IsMe:null},player2:{personalDouble:null,name:null,points:null,IsMe:null},player3:{personalDouble:null,name:null,points:null,IsMe:null}},timer:null},this.cardsPool=null},init:function(){this.Obj={dizhuWin:cc.find("Winner/landlordWin",this.node),farmerWin:cc.find("Winner/farmerWin",this.node),odds:{dizhu:cc.find("OddsDetails/detail/Dizhu/str",this.node),bomb:cc.find("OddsDetails/detail/bomb/str",this.node),rocket:cc.find("OddsDetails/detail/rocket/str",this.node),RSpring:cc.find("OddsDetails/detail/RSpring/str",this.node)},remainCards:{player1:{name:cc.find("RemainCards/player1/name",this.node),card1stRow:cc.find("RemainCards/player1/Cards/1stRow",this.node),card2ndRow:cc.find("RemainCards/player1/Cards/2ndRow",this.node)},player2:{name:cc.find("RemainCards/player2/name",this.node),card1stRow:cc.find("RemainCards/player2/Cards/1stRow",this.node),card2ndRow:cc.find("RemainCards/player2/Cards/2ndRow",this.node)}},Personalodds:{player1:{personalDouble:cc.find("OddResult/Player1/personalDouble",this.node),name:cc.find("OddResult/Player1/name",this.node),points:cc.find("OddResult/Player1/point",this.node),IsMe:cc.find("OddResult/Player1/IsMe",this.node)},player2:{personalDouble:cc.find("OddResult/Player2/personalDouble",this.node),name:cc.find("OddResult/Player2/name",this.node),points:cc.find("OddResult/Player2/point",this.node),IsMe:cc.find("OddResult/Player2/IsMe",this.node)},player3:{personalDouble:cc.find("OddResult/Player3/personalDouble",this.node),name:cc.find("OddResult/Player3/name",this.node),points:cc.find("OddResult/Player3/point",this.node),IsMe:cc.find("OddResult/Player3/IsMe",this.node)}},timer:cc.find("timer/timer",this.node)},this.cardsPool=cc.find("CardManager/CardsPool",this.node.parent.parent).getComponent("CardsPool")},onLoad:function(){var t=this;this.init(),r.EventListener.on("InRoom",function(){r.socket.emit("InRoom",r.uid,function(e){e&&r.socket.emit("LoadGame",r.uid)})}),r.socket.on("ResultMessage",function(e){t.setResult(e)})},setResult:function(e){this.Obj.dizhuWin.active=!1,this.Obj.farmerWin.active=!1,this.Obj[e.whoWin].active=!0,this.Obj.odds.dizhu.getComponent(cc.Label).string=e.odds.dizhu,this.Obj.odds.bomb.getComponent(cc.Label).string=e.odds.bomb,this.Obj.odds.rocket.getComponent(cc.Label).string=e.odds.rocket,this.Obj.odds.RSpring.getComponent(cc.Label).string=e.odds.RSpring,this.Obj.remainCards.player1.name.getComponent(cc.Label).string=e.remainCards.player1.name,this.cardsPool.ArrangeCards(e.remainCards.player1.card1stRow,this.Obj.remainCards.player1.card1stRow,!1),this.cardsPool.ArrangeCards(e.remainCards.player1.card2ndRow,this.Obj.remainCards.player1.card2ndRow,!1),this.Obj.remainCards.player2.name.getComponent(cc.Label).string=e.remainCards.player2.name.toString(),this.cardsPool.ArrangeCards(e.remainCards.player2.card1stRow,this.Obj.remainCards.player2.card1stRow,!1),this.cardsPool.ArrangeCards(e.remainCards.player2.card2ndRow,this.Obj.remainCards.player2.card2ndRow,!1),this.Obj.Personalodds.player1.personalDouble.active=e.Personalodds.player1.personalDouble,this.Obj.Personalodds.player1.name.getComponent(cc.Label).string=e.Personalodds.player1.name,this.Obj.Personalodds.player1.points.getComponent("Num2Sprite").setNum(e.Personalodds.player1.points,"-"==e.Personalodds.player1.points[0]?"redletter/redletter":"greenletter/greenletter"),this.Obj.Personalodds.player1.IsMe.active=e.Personalodds.player1.IsMe,this.Obj.Personalodds.player2.personalDouble.active=e.Personalodds.player2.personalDouble,this.Obj.Personalodds.player2.name.getComponent(cc.Label).string=e.Personalodds.player2.name,this.Obj.Personalodds.player2.points.getComponent("Num2Sprite").setNum(e.Personalodds.player2.points,"-"==e.Personalodds.player2.points[0]?"redletter/redletter":"greenletter/greenletter"),this.Obj.Personalodds.player2.IsMe.active=e.Personalodds.player2.IsMe,this.Obj.Personalodds.player3.personalDouble.active=e.Personalodds.player3.personalDouble,this.Obj.Personalodds.player3.name.getComponent(cc.Label).string=e.Personalodds.player3.name,this.Obj.Personalodds.player3.points.getComponent("Num2Sprite").setNum(e.Personalodds.player3.points,"-"==e.Personalodds.player3.points[0]?"redletter/redletter":"greenletter/greenletter"),this.Obj.Personalodds.player3.IsMe.active=e.Personalodds.player3.IsMe,this.Obj.timer.getComponent("Num2Sprite").setNum(e.timer)},InRoom:function(){r.EventListener.fire("InRoom"),this.node.enable=!1}}),cc._RF.pop()},{global:"global"}],WindowsController:[function(e,t,n){"use strict";cc._RF.push(t,"b002dvLJwpInZXDRkmNIuWW","WindowsController");var r=e("global");cc.Class({extends:cc.Component,properties:{Scenes:{default:[],type:cc.Node}},onLoad:function(){var n=this;r.ConnectServer(),r.EventListener.on("SwitchScene",function(e){for(var t=0;t<n.Scenes.length;t++)n.Scenes[t].active=t==e}),r.socket.on("SwitchScene",function(e){r.EventListener.fire("SwitchScene",e)}),r.EventListener.fire("SwitchScene",0)}}),cc._RF.pop()},{global:"global"}],clock:[function(e,t,n){"use strict";cc._RF.push(t,"4eddapQNoJCzaKd849ZDBrs","clock"),cc.Class({extends:cc.Component,ctor:function(){this.Obj={time:null}},onLoad:function(){this.Obj.time=cc.find("time",this.node).getComponent("Num2Sprite")},settime:function(e){this.Obj.time.setNum(e)}}),cc._RF.pop()},{}],config:[function(e,t,n){"use strict";cc._RF.push(t,"51232MuRg1Etoh6eMoOYPIJ","config");var r={pokerCardType:{spade:"spade",hearts:"hearts",redslice:"redslice",blackberry:"blackberry"},ghostCardType:{bigG:"bigG",smallG:"smallG"}};t.exports=r,cc._RF.pop()},{}],findtype:[function(e,t,n){"use strict";cc._RF.push(t,"d2c72rtFZBDVIiqVcpP82W2","findtype");var d=e("./CardUtil"),u=e("./CardType"),r={GetAllType:function(e,t){if(0==t)return this.FindAll(e,t);if(0!=e.length){var n=t.length,r=e.slice(0);r.sort(d.gradeUp);var i=d.cardGrade[u.findMost(t)],o=u.judgeType(t),s=[],a=this.FindBomb(r,0),l=this.FindRocket(r);if(1==o&&(s=this.FindOne(r,i)),2==o&&(s=this.FindDouble(r,i)),3==o&&(s=this.FindTriple(r,i)),4==o&&(s=this.FindThreeOne(r,i)),5==o&&(s=this.FindThreeTwo(r,i)),6==o&&(s=this.FindStraight(r,i,n)),7==o&&(s=this.FindDStraight(r,i,n)),8==o&&(s=this.FindTStraight(r,i,n)),9==o&&(s=this.FindFourTwoDiff(r,i)),10==o&&(s=this.FindFourTwoSame(r,i)),11==o&&(s=this.FindBomb(r,i)),12==o)return s;if(0!=a.length)for(var c=0;c<a.length;c++)s.push(a[c].slice(0));return 0!=l.length&&s.push(l[0].slice(0)),s}},CalcAllKinds:function(e){for(var t=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],n=1;n<t.length;n++)for(var r=0;r<e.length;r++)d.cardGrade[e[r].showTxt]==n&&t[n].push(e[r]);return t},FindMaxLength:function(e){var t,n=0;if(0!=e.length){for(var r=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,t=e[r]);return t}},FindAll:function(e,t){var n=[];n.push([e[e.length-1]]);var r=this.FindDouble(e,t);0!=r.length&&n.push(r[0]);var i=this.FindTriple(e,t);if(0!=i.length){n.push(i[0]);var o=this.FindThreeOne(e,t);if(n.push(o[0]),0!=r.length){var s=this.FindThreeTwo(e,t);n.push(s[0])}}for(var a=5;a<=12;a++){var l=this.FindStraight(e,t,a);0!=l.length&&n.push(l[0])}for(a=6;a<=18;a+=2){var c=this.FindDStraight(e,t,a);0!=c.length&&n.push(c[0])}for(a=9;a<=18;a+=3){var d=this.FindTStraight(e,t,a);0!=d.length&&n.push(d[0])}var u=this.FindBomb(e,t);if(0!=u.length){var h=this.FindFourTwoDiff(e,t);if(n.push(h[0]),0!=r.length){var p=this.FindFourTwoSame(e,t);n.push(p[0])}n.push(u[0])}var f=this.FindRocket(e);return 0!=f.length&&n.push(f[0]),n},FindOne:function(e,t){for(var n=[],r=0;r<e.length;r++)if(d.cardGrade[e[r].showTxt]>t){var i=[];i.push(e[r]),n.push(i.slice(0))}return n},FindDouble:function(e,t){for(var n=this.CalcAllKinds(e),r=[],i=1;i<n.length;i++)if(!(n[i].length<2||i<=t))for(var o=0;o<n[i].length;o++)for(var s=o+1;s<n[i].length;s++){var a=[];a.push(n[i][o]),a.push(n[i][s]),r.push(a.slice(0))}return r},FindTriple:function(e,t){for(var n=this.CalcAllKinds(e),r=[],i=1;i<n.length;i++)if(!(n[i].length<3||i<=t))for(var o=0;o<n[i].length;o++)for(var s=o+1;s<n[i].length;s++)for(var a=s+1;a<n[i].length;a++){var l=[];l.push(n[i][o]),l.push(n[i][s]),l.push(n[i][a]),r.push(l.slice(0))}return r},FindBomb:function(e,t){for(var n=this.CalcAllKinds(e),r=[],i=1;i<n.length;i++)n[i].length<4||i<=t||r.push(n[i].slice(0));return r},FindRocket:function(e){var t=this.CalcAllKinds(e),n=[];if(1==t[14].length&&1==t[15].length){var r=[];r.push(t[14][0]),r.push(t[15][0]),n.push(r.slice(0))}return n},FindStraight:function(e,t,n){for(var r=this.CalcAllKinds(e),i=[],o=1;o<r.length/2+1;o++){var s=[],a=0;if(!(o==d.cardGrade[2]||o==d.cardGrade.g||o==d.cardGrade.G||o<=t)){s.push(r[o][0]),a++;for(var l=o+1;l<r.length&&(0!=r[l].length&&0!=r[l-1].length&&l<13);l++)s.push(r[l][0]),++a==n&&i.push(s.slice(0))}}return i},FindDStraight:function(e,t,n){for(var r=this.CalcAllKinds(e),i=[],o=1;o<r.length/2+1;o++){var s=[],a=0;if(!(o==d.cardGrade[2]||o==d.cardGrade.g||o==d.cardGrade.G||o<=t)){s.push(r[o][0]),s.push(r[o][1]),a++;for(var l=o+1;l<r.length&&(1<r[l].length&&1<r[l-1].length&&l<13);l++)s.push(r[l][0]),s.push(r[l][1]),++a==n/2&&i.push(s.slice(0))}}return i},FindTStraight:function(e,t,n){for(var r=this.CalcAllKinds(e),i=[],o=1;o<r.length/2+1;o++){var s=[],a=0;if(!(o==d.cardGrade[2]||o==d.cardGrade.g||o==d.cardGrade.G||o<=t)){s.push(r[o][0]),s.push(r[o][1]),s.push(r[o][2]),a++;for(var l=o+1;l<r.length&&(2<r[l].length&&2<r[l-1].length&&l<13);l++)s.push(r[l][0]),s.push(r[l][1]),s.push(r[l][2]),++a==n/3&&i.push(s.slice(0))}}return i},FindThreeOne:function(e,t){for(var n=this.CalcAllKinds(e),r=[],i=this.FindTriple(e),o=0;o<i.length;o++)if(!(d.cardGrade[i[o][0].showTxt]<=t))for(var s=0;s<n.length;s++)if(0!=n[s].length&&n[s][0].showTxt!=i[o][0].showTxt){var a=[];a.push(n[s][0]),a.push(i[o][0]),a.push(i[o][1]),a.push(i[o][2]),r.push(a.slice(0))}return r},FindThreeTwo:function(e,t){var n=[],r=this.FindTriple(e),i=this.FindDouble(e);if(0==r.length)return n;for(var o=0;o<r.length;o++)if(!(d.cardGrade[r[o][0].showTxt]<=t))for(var s=0;s<i.length;s++)if(i[s][0].showTxt!=r[o][0].showTxt){var a=[];a.push(i[s][0]),a.push(i[s][1]),a.push(r[o][0]),a.push(r[o][1]),a.push(r[o][2]),n.push(a.slice(0))}return n},FindFourTwoSame:function(e,t){for(var n=[],r=this.FindDouble(e),i=this.FindBomb(e),o=0;o<i.length;o++)if(!(d.cardGrade[i[o][0].showTxt]<=t))for(var s=0;s<r.length;s++){var a=[];if(r[s][0].showTxt!=i[o][0].showTxt)(a=[]).push(r[s][0]),a.push(r[s][1]),a.push(i[o][0]),a.push(i[o][1]),a.push(i[o][2]),a.push(i[o][3]),n.push(a.slice(0))}return n},FindFourTwoDiff:function(e,t){for(var n=this.CalcAllKinds(e),r=[],i=this.FindBomb(e),o=0;o<i.length;o++)if(!(d.cardGrade[i[o][0].showTxt]<=t))for(var s=0;s<n.length;s++)for(var a=0;a<n.length;a++){var l=[];0!=n[a].length&&0!=n[s].length&&(n[s][0].showTxt!=i[o][0].showTxt&&n[s][0].showTxt!=n[a][0].showTxt&&(l.push(n[s][0]),l.push(n[a][0]),l.push(i[o][0]),l.push(i[o][1]),l.push(i[o][2]),l.push(i[o][3]),r.push(l.slice(0)),r.push(l.slice(0))))}return r}};t.exports=r,cc._RF.pop()},{"./CardType":"CardType","./CardUtil":"CardUtil"}],global:[function(e,t,n){"use strict";cc._RF.push(t,"92d93ka++dHDI09kxsv2wMB","global");var r={ServerURL:"http://140.118.175.76:3000/",EventListener:e("./EventListener.js")({}),socket:null,uid:null,roomid:null,ButtonCounting:-1,ConnectServer:function(){this.socket=io(this.ServerURL,{reconnection:!1})}};t.exports=r,cc._RF.pop()},{"./EventListener.js":"EventListener"}],loginMenu:[function(e,t,n){"use strict";cc._RF.push(t,"b346c6dnBZBRoDthZ+9P7Vd","loginMenu");var r=e("global");cc.Class({extends:cc.Component,ctor:function(){this.waring=null},properties:{edit_box:{default:null,type:cc.EditBox},Message:{default:null,type:cc.Label}},LoginbuttonClick:function(e,t){0!=this.edit_box.string.length?r.EventListener.fire("login",this.edit_box.string):this.Message.string="Empty is not allowed"},onLoad:function(){var n=this;r.EventListener.on("login",function(t){r.socket.emit("login",t,function(e){e?(r.uid=t,r.EventListener.fire("SwitchScene",1),r.socket.emit("LoadGame",r.uid)):n.Message.string("FAILED")})})}}),cc._RF.pop()},{global:"global"}],playerInfo:[function(e,t,n){"use strict";cc._RF.push(t,"7a7e18oWVNB2bKOqdnffkOy","playerInfo");var r=e("./global");cc.Class({extends:cc.Component,ctor:function(){this.playerInfo=null,this.playerScript={PreRival:null,Me:null,NextRival:null},this.defaultImgs=["player/img/playerPic1","player/img/playerPic2","player/img/playerPic3","player/img/playerPic4"]},properties:{Me:{default:null,type:cc.Node},PreRival:{default:null,type:cc.Node},NextRival:{default:null,type:cc.Node}},onLoad:function(){var t=this;this.playerScript.PreRival=this.PreRival.getComponent("player"),this.playerScript.Me=this.Me.getComponent("player"),this.playerScript.NextRival=this.NextRival.getComponent("player"),cc.loader.loadResDir("player/img",function(e,t){}),r.socket.on("playerInfo",function(e){t.playerInfo=e,t.UpdateRoom(e)})},UpdateRoom:function(e){var n=this;this.playerScript.Me.setName(e.me.name),this.playerScript.PreRival.setName(e.PreRival.name),this.playerScript.NextRival.setName(e.NextRival.name),null!=e.me.img&&cc.loader.loadRes(this.defaultImgs[e.me.img],cc.SpriteFrame,function(e,t){n.playerScript.Me.setImg(t)}),null!=e.PreRival.img&&cc.loader.loadRes(this.defaultImgs[e.PreRival.img],cc.SpriteFrame,function(e,t){n.playerScript.PreRival.setImg(t)}),null!=e.NextRival.img&&cc.loader.loadRes(this.defaultImgs[e.NextRival.img],cc.SpriteFrame,function(e,t){n.playerScript.NextRival.setImg(t)})}}),cc._RF.pop()},{"./global":"global"}],player:[function(e,t,n){"use strict";cc._RF.push(t,"cf8f5DAbLVJMZxtcl6XaG1h","player"),cc.Class({extends:cc.Component,ctor:function(){this.Obj={name:null},this.Info={name:null}},onLoad:function(){this.Obj.name=cc.find("nameandcoin/name",this.node).getComponent(cc.Label),this.Obj.img=cc.find("pic",this.node).getComponent(cc.Sprite),this.node.active=!1},setName:function(e){this.node.active=""!=e,this.Info.name=e,this.Obj.name.string=e},setImg:function(e){this.Obj.img.spriteFrame=e}}),cc._RF.pop()},{}],roomInfo:[function(e,t,n){"use strict";cc._RF.push(t,"f2cd3VU+CtCYLNd9x7AVJqS","roomInfo");var r=e("./global");cc.Class({extends:cc.Component,ctor:function(){this.roomInfo={id:null},this.RoomObj={},this.autoPlaying=null},properties:{},initObj:function(){this.RoomObj={odds:cc.find("Point/Odds",this.node).getChildren()[0],playerPoint:cc.find("Point/playerPoint",this.node).getChildren()[0],currentOdds:cc.find("Point/currentOdds",this.node).getChildren()[0]},this.autoPlaying=cc.find("AutoPlaying",this.node.parent)},onEnable:function(){this.autoPlaying.active=!1},autoPlay:function(){r.EventListener.fire("AIswitch")},onLoad:function(){var t=this;this.initObj(),r.socket.on("roomInfo",function(e){t.roomInfo=e,r.roomid=e.roomid,t.UpdateRoom(e)}),r.EventListener.on("AIswitch",function(){r.socket.emit("AIswitch",r.uid,function(e){t.autoPlaying.active=e})})},UpdateRoom:function(e){this.RoomObj.playerPoint.getComponent("Num2Sprite").setNum(e.playerPoint),this.RoomObj.currentOdds.getComponent("Num2Sprite").setNum(e.currentOdds),this.RoomObj.odds.getComponent("Num2Sprite").setNum(e.odds)}}),cc._RF.pop()},{"./global":"global"}],timer:[function(e,t,n){"use strict";cc._RF.push(t,"10a7d/wwKBPDIGkkyOr7U9y","timer");var r=e("./global");cc.Class({extends:cc.Component,ctor:function(){this.Obj={clock:null,Me:null,Pre:null,Next:null,warning:{Me:null,Pre:null,Next:null}}},properties:{stage:{default:null,type:cc.Node}},Reset:function(){this.Obj.warning.Me.active=!1,this.Obj.warning.Pre.active=!1,this.Obj.warning.Next.active=!1,this.Obj.clock.active=!1,this.activeButton(null)},init:function(){this.Obj={clock:cc.find("Clock",this.node),Me:cc.find("Me",this.node),Pre:cc.find("Pre",this.node),Next:cc.find("Next",this.node),warning:{Me:cc.find("warning/Me",this.node),Pre:cc.find("warning/Pre",this.node),Next:cc.find("warning/Next",this.node)}}},start:function(){var t=this;this.init(),r.socket.on("timer",function(e){t.UpdateCounter(e)}),r.EventListener.on("EndMyturn",function(e){r.socket.emit("EndMyturn",r.uid)}),this.Reset(),this.activeButton(-1)},activeButton:function(e){for(var t=0;t<this.stage.getChildren().length;t++)this.stage.getChildren()[t].active=t==e},UpdateCounter:function(e){this.Reset(),this.activeButton(e.active),"Result"==e.whosTurn?cc.find("Result/timer/timer",this.stage).getComponent("Num2Sprite").setNum(e.countdownSecond):null!=e.whosTurn&&(this.Obj.clock.active=!0,this.Obj.clock.position=this.Obj[e.whosTurn].position,this.Obj.clock.getComponent("clock").settime(e.countdownSecond),e.countdownSecond<10&&this.Obj.clock.getComponent(cc.Animation).play(),r.EventListener.fire("GetCardsInfo",e.whosTurn)<5&&(this.Obj.warning[e.whosTurn].active=!0,this.Obj.warning[e.whosTurn].getComponent(cc.Animation).play()))},EndMyturn:function(){r.EventListener.fire("EndMyturn",r.roomid),r.ButtonCounting=-1}}),cc._RF.pop()},{"./global":"global"}]},{},["AnimationControl","CardManager","CardType","CardUtil","CardsPool","EventListener","ResultScene","WindowsController","clock","findtype","global","loginMenu","playerInfo","roomInfo","timer","PokerControl","config","Num2Sprite","player"]);